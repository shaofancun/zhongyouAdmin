<!DOCTYPE html>
<!-- 
Template Name: Metronic - Responsive Admin Dashboard Template build with Twitter Bootstrap 3.3.2
Version: 3.6.2
Author: KeenThemes
Website: http://www.keenthemes.com/
Contact: support@keenthemes.com
Follow: www.twitter.com/keenthemes
Like: www.facebook.com/keenthemes
Purchase: http://themeforest.net/item/metronic-responsive-admin-dashboard-template/4021469?ref=keenthemes
License: You must have a valid license purchased only from themeforest(the above link) in order to legally use the theme for your project.
-->
<!--[if IE 8]> <html lang="en" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en" class="no-js">
<!--<![endif]-->
<!-- BEGIN HEAD -->
<head>
<meta charset="utf-8"/>
<title>后台管理系统</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="" name="description"/>
<meta content="" name="author"/>
<!-- BEGIN GLOBAL MANDATORY STYLES -->
<link href="../static/style/default/mix/metronic3.6/theme/assets/global/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
<link href="../static/style/default/mix/metronic3.6/theme/assets/global/plugins/simple-line-icons/simple-line-icons.min.css" rel="stylesheet" type="text/css"/>
<link href="../static/style/default/mix/metronic3.6/theme/assets/global/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="../static/style/default/mix/metronic3.6/theme/assets/global/plugins/uniform/css/uniform.default.css" rel="stylesheet" type="text/css"/>
<link href="../static/style/default/mix/metronic3.6/theme/assets/global/plugins/bootstrap-switch/css/bootstrap-switch.min.css" rel="stylesheet" type="text/css"/>
<!-- END GLOBAL MANDATORY STYLES -->
<!-- BEGIN PAGE LEVEL STYLES -->
<link rel="stylesheet" type="text/css" href="../static/style/default/mix/metronic3.6/theme/assets/global/plugins/jstree/dist/themes/default/style.min.css"/>
<!-- END PAGE LEVEL STYLES -->
<!-- BEGIN THEME STYLES -->
<link href="../static/style/default/mix/metronic3.6/theme/assets/global/css/components.css" id="style_components" rel="stylesheet" type="text/css"/>
<link href="../static/style/default/mix/metronic3.6/theme/assets/global/css/plugins.css" rel="stylesheet" type="text/css"/>
<link href="../static/style/default/mix/metronic3.6/theme/assets/admin/layout/css/layout.css" rel="stylesheet" type="text/css"/>
<link id="style_color" href="../static/style/default/mix/metronic3.6/theme/assets/admin/layout/css/themes/darkblue.css" rel="stylesheet" type="text/css"/>
<link href="../static/style/default/mix/metronic3.6/theme/assets/admin/layout/css/custom.css" rel="stylesheet" type="text/css"/>
<!-- END THEME STYLES -->
<link rel="shortcut icon" href="favicon.ico"/>

<body class="page-header-fixed page-quick-sidebar-over-content page-style-square">
<!-- BEGIN HEADER -->
<div class="page-header navbar navbar-fixed-top">
	<!-- BEGIN HEADER INNER -->
	<div class="page-header-inner">
		<div class="page-logo">
			<a href="index.html"><img src="../static/style/default/mix/metronic3.6/theme/assets/admin/layout/img/logo.png" alt="logo" class="logo-default"></a>
			<div class="menu-toggler sidebar-toggler"></div>
		</div>
		<div class="hor-menu hor-menu-light hidden-sm hidden-xs">
			<ul class="nav navbar-nav">
				<li class="classic-menu-dropdown"><a href="../index.html">首页</a></li>
				<li class="classic-menu-dropdown"><a href="../finance/detailsList.html">财务</a></li>
				<li class="classic-menu-dropdown"><a href="../statistics/orderSales.html">统计</a></li>
				<li class="classic-menu-dropdown"><a href="../vote/voteList.html">营销<span class="selected"></span></a></li>
				<li class="classic-menu-dropdown active"><a href="authList.html">权限<span class="selected"></span></a></li>
			</ul>
		</div>
	</div>
	<!-- END HEADER INNER -->
</div>
<!-- END HEADER -->
<div class="clearfix">
</div>
<!-- container -->
<div class="page-container">
	<!--左侧列表 -->
	<div class="page-sidebar-wrapper">
		<div class="page-sidebar navbar-collapse collapse">
			<ul class="page-sidebar-menu" data-keep-expanded="false" data-auto-scroll="true" data-slide-speed="200">
				<!-- DOC: To remove the search box from the sidebar you just need to completely remove the below "sidebar-search-wrapper" LI element -->
				<li class="sidebar-search-wrapper">
					<!-- BEGIN RESPONSIVE QUICK SEARCH FORM -->
					<!-- DOC: Apply "sidebar-search-bordered" class the below search form to have bordered search box -->
					<!-- DOC: Apply "sidebar-search-bordered sidebar-search-solid" class the below search form to have bordered & solid search box -->
					<form class="sidebar-search " action="extra_search.html" method="POST">
						<a href="javascript:;" class="remove"><i class="icon-close"></i></a>
						<div class="input-group">
							<input type="text" class="form-control" placeholder="Search...">
							<span class="input-group-btn"><a href="javascript:;" class="btn submit"><i class="icon-magnifier"></i></a></span>
						</div>
					</form>
					<!-- END RESPONSIVE QUICK SEARCH FORM -->
				</li>
				<li class="active open">
					<a href="javascript:;"><i class="fa fa-credit-card "></i><span class="title">权限</span><span class="selected"></span><span class="arrow"></span></a>
					<ul class="sub-menu">
						<li class="active"><a href="authList.html">权限列表</a></li>
					</ul>
				</li>
			</ul>
		</div>
	</div>
	<!-- 左侧列表 /-->
	<!--content-wrapper-->
	<div class="page-content-wrapper">
		<div class="page-content" style="min-height:812px">
			<!--标题栏-->
			<h3 class="page-title">权限列表 <small>查看和修改用户权限</small></h3>
			<!--路径导航-->
			<div class="page-bar">
				<ul class="page-breadcrumb">
					<li><i class="fa fa-home"></i><a href="#">首页</a><i class="fa fa-angle-right"></i></li>
					<li><a href="#">权限</a><i class="fa fa-angle-right"></i></li>
					<li><a href="#">权限列表</a></li>
				</ul>
			</div>
			<div class="col-md-12">
				<form action="" method="post">
					<div class="portlet">
						<div class="portlet-title">
							<input type="hidden" name="id" value="">
							<input type="hidden" id="authId" name="authId" value="">
							<div class="caption">
								<i class="fa fa-edit"></i>权限设置
							</div>
							<div class="pull-right">
								<a href="" class="btn default"><i class="fa fa-angle-left"></i> 返回</a>
								<button type="submit" class="btn green"><i class="fa fa-check-circle"></i> 保存</button>
							</div>
						</div>
					</div>
				</form>
				<div class="portlet-body">
					<!-- <div class="table-scrollable">
						<table class="table table-bordered table-hover">
							<thead>
								<tr>
									<th width="60%">名称</th>
									<th width="20%">类型</th>
									<th width="20%">操作</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>商品</td>
									<td><span class="text-success">开启</span></td>
									<td><a href="javascript:;" class="btn red btn-xs" onclick="auth.close(1)">关闭</a></td>
								</tr>
								<tr>
									<td>├ 商品管理</td>
									<td><span class="text-success">开启</span></td>
									<td><a href="javascript:;" class="btn red btn-xs" onclick="auth.close(1)">关闭</a></td>
								</tr>
								<tr>
									<td>│    ├  商品列表</td>
									<td><span class="text-success">开启</span></td>
									<td><a href="javascript:;" class="btn red btn-xs" onclick="auth.close(1)">关闭</a></td>
								</tr>
								<tr>
									<td>│    ├  添加商品</td>
									<td><span class="text-default">关闭</span></td>
									<td><a href="javascript:;" class="btn green btn-xs" onclick="auth.open(1)">开启</a></td>
								</tr>
							</tbody>
						</table>
					</div> -->
					<div id="tree" class="tree-demo">
						
					</div>
				</div>
			</div>
		</div>
	</div>
	<!--content-wrapper /-->
</div>
<!-- container /-->
<!-- BEGIN FOOTER -->
<div class="page-footer">
	<div class="page-footer-inner">
		 2014 &copy; Metronic by keenthemes.
	</div>
	<div class="scroll-to-top">
		<i class="icon-arrow-up"></i>
	</div>
</div>
<!-- END FOOTER -->

<!-- BEGIN JAVASCRIPTS(Load javascripts at bottom, this will reduce page load time) -->
<!-- BEGIN CORE PLUGINS -->
<!--[if lt IE 9]>
<script src="../static/style/default/mix/metronic3.6/theme/assets/global/plugins/respond.min.js"></script>
<script src="../static/style/default/mix/metronic3.6/theme/assets/global/plugins/excanvas.min.js"></script> 
<![endif]-->
<script src="../static/style/default/mix/metronic3.6/theme/assets/global/plugins/jquery.min.js" type="text/javascript"></script>
<script src="../static/style/default/mix/metronic3.6/theme/assets/global/plugins/jquery-migrate.min.js" type="text/javascript"></script>
<!-- IMPORTANT! Load jquery-ui.min.js before bootstrap.min.js to fix bootstrap tooltip conflict with jquery ui tooltip -->
<script src="../static/style/default/mix/metronic3.6/theme/assets/global/plugins/jquery-ui/jquery-ui.min.js" type="text/javascript"></script>
<script src="../static/style/default/mix/metronic3.6/theme/assets/global/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
<script src="../static/style/default/mix/metronic3.6/theme/assets/global/plugins/bootstrap-hover-dropdown/bootstrap-hover-dropdown.min.js" type="text/javascript"></script>
<script src="../static/style/default/mix/metronic3.6/theme/assets/global/plugins/jquery-slimscroll/jquery.slimscroll.min.js" type="text/javascript"></script>
<script src="../static/style/default/mix/metronic3.6/theme/assets/global/plugins/jquery.blockui.min.js" type="text/javascript"></script>
<script src="../static/style/default/mix/metronic3.6/theme/assets/global/plugins/jquery.cokie.min.js" type="text/javascript"></script>
<script src="../static/style/default/mix/metronic3.6/theme/assets/global/plugins/uniform/jquery.uniform.min.js" type="text/javascript"></script>
<script src="../static/style/default/mix/metronic3.6/theme/assets/global/plugins/bootstrap-switch/js/bootstrap-switch.min.js" type="text/javascript"></script>
<!-- END CORE PLUGINS -->
<!-- BEGIN PAGE LEVEL SCRIPTS -->
<script src="../static/style/default/mix/metronic3.6/theme/assets/global/plugins/jstree/dist/jstree.min.js"></script>
<!-- END PAGE LEVEL SCRIPTS -->
<!-- BEGIN PAGE LEVEL SCRIPTS -->
<script src="../static/style/default/mix/metronic3.6/theme/assets/global/scripts/metronic.js" type="text/javascript"></script>
<script src="../static/style/default/mix/metronic3.6/theme/assets/admin/layout/scripts/layout.js" type="text/javascript"></script>
<script src="../static/style/default/mix/metronic3.6/theme/assets/admin/layout/scripts/quick-sidebar.js" type="text/javascript"></script>
<script src="../static/style/default/mix/metronic3.6/theme/assets/admin/layout/scripts/demo.js" type="text/javascript"></script>
<!-- END PAGE LEVEL SCRIPTS -->
<script>
$(function() {    
    Metronic.init(); // init metronic core components
	Layout.init(); // init current layout
	QuickSidebar.init(); // init quick sidebar
	Demo.init(); // init demo features
	// $.ajax({
	//   url: '',
	//   type: 'POST',
	//   dataType: 'json',
	//   data: {id:123 },
	// }).done(function(data){
	// 	authList(data.data);
	// })
	authList()
});
/*
state
opened 展开
selected 选中

*/
//加载权限
function authList(){
	$('#tree').jstree({
	    'plugins': ["", "checkbox", "types"],
	    'core': {
	        "themes" : {
	            "responsive": false
	        },
	        //'data':data    
	        'data': [
	        	{
	        		"id":"1",
	                "text": "财务",
	                "children": [
		                {	
		                	"id":"1_1",
		                    "text": "提现",
		                    "children": [
		                    	{
		                    		"id":"1_1_1",
		                    		"text": "提现列表",
		                    	},
		                    	{
		                    		"id":"1_1_2",
		                    		"text": "已提现列表",
		                    		"state":{
		                    			"selected":true
		                    		}
		                    	}
		                    ]
		                },  
		                {
		                	"id":"1_2",
		                    "text": "提现明细",
		                    "children": [
			                    {
			                    	"id":"1_2_1",
			                    	"text":"流水账明细"
			                    }
		                    ]
		                }, 
	                ]
	            }
	        ]
	    },
	    "types" : {
	        "default" : {
	            "icon" : "fa fa-folder icon-state-warning icon-lg"
	        },
	        "file" : {
	            "icon" : "fa fa-file icon-state-warning icon-lg"
	        }
	    }
	})
	.bind('click.jstree', function(event) {               
        var eventNodeName = event.target.nodeName,
        	id;     
        if(eventNodeName == 'INS') {  
            return;               
        }else if(eventNodeName == 'I'){
        	if($(event.target).hasClass('jstree-checkbox')){
        		var $subject = $(event.target).parent(); 
                id=$(event.target).parents('li').attr('id');     
                ajaxAuth(id);             
        	}  
        }else if (eventNodeName == 'A') {                   
            var $subject = $(event.target).parent();   
            id=$subject.attr('id'); 
            ajaxAuth(id);            
        }
        function ajaxAuth(id){
        	console.log(id);
        }
    })
}


</script>
<!-- END JAVASCRIPTS -->
</body>
<!-- END BODY -->
</html>
